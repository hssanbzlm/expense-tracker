<ng-container
  [ngTemplateOutlet]="
    inEmailForm ? emailForm : inCodeForm ? codeForm : passwordForm
  "
>
</ng-container>

<ng-template #emailForm>
  <form [formGroup]="emailFormGroup" (ngSubmit)="onSumbitEmailForm()">
    <input
      (focus)="onInputFocus()"
      [disabled]="submit"
      formControlName="email"
      type="text"
      placeholder="email"
      [ngClass]="emailFormGroup.get('email').errors ? 'error' : 'success'"
    />
    <button class="btn" [disabled]="submit" type="submit">check email</button>
    <div *ngIf="errorMsg.length">{{ errorMsg }}</div>
  </form>
</ng-template>

<ng-template #codeForm>
  <form [formGroup]="codeFormGroup" (ngSubmit)="onSubmitCodeForm()">
    <input
      [disabled]="submit"
      formControlName="code"
      type="text"
      placeholder="code"
      [ngClass]="codeFormGroup.get('code').errors ? 'error' : 'success'"
    />
    <button [disabled]="submit" type="submit">confirm code</button>
    <button (click)="backToEmailForm()">Back</button>
    <div *ngIf="errorMsg.length">{{ errorMsg }}</div>
  </form>
</ng-template>
<ng-template #passwordForm>
  <form [formGroup]="passwordFormGroup" (ngSubmit)="onSubmitPasswordForm()">
    <input
      [disabled]="submit"
      formControlName="newPassword"
      type="password"
      placeholder="password"
      [ngClass]="
        passwordFormGroup.get('newPassword').errors ? 'error' : 'success'
      "
    />
    <input
      [disabled]="submit"
      formControlName="retypeNewPassword"
      type="password"
      placeholder="retype password"
      [ngClass]="
        passwordFormGroup.get('retypeNewPassword').errors ? 'error' : 'success'
      "
    />
    <button [disabled]="submit" type="submit">save new password</button>
    <button (click)="backToCodeForm()">Back</button>
    <div *ngIf="errorMsg.length">{{ errorMsg }}</div>
  </form>
</ng-template>
